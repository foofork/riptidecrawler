# Technical Debt Scan Report
**Scan Date**: 2025-11-01
**Scanner**: Rust Hygiene Audit (Steps 1-2)

## Summary Statistics

| Category | Count | Status |
|----------|-------|--------|
| TODO/FIXME/XXX comments | 152 | ‚ö†Ô∏è High |
| Commented code instances | 117 | ‚ö†Ô∏è Moderate |
| Crate-level lint attributes | 40 | ‚úì OK |
| Local #[allow(...)] suppressions | 466 | üî¥ Critical |

## Top Offenders - TODO/FIXME

| File | Count |
|------|-------|
| crates/riptide-facade/tests/extractor_facade_integration.rs | 14 |
| crates/riptide-facade/tests/browser_facade_integration.rs | 14 |
| xtask/src/main.rs | 8 |
| crates/riptide-facade/tests/facade_composition_integration.rs | 8 |
| tests/phase3/direct_execution_tests.rs | 7 |
| tests/archive/phase3/direct_execution_tests.rs | 7 |
| tests/regression/golden/golden_test_cli.rs | 6 |
| tests/golden/golden_test_cli.rs | 6 |

## Lint Suppression Analysis

**Most Common Suppressions:**
- `#[allow(dead_code)]`: 408 instances
- `#[allow(clippy::too_many_arguments)]`: 19 instances
- `#[allow(unused_imports)]`: 18 instances
- `#[allow(clippy::const_is_empty)]`: 6 instances
- `#[allow(clippy::expect_used)]`: 4 instances

## Critical Issues

### üî¥ Excessive Dead Code Suppressions
- **408 instances** of `#[allow(dead_code)]` across the codebase
- Many in test files (`tests/`, `*_tests.rs`)
- Notable concentrations:
  - `crates/riptide-cli/` - Heavy use in session, metrics, cache modules
  - `crates/riptide-api/` - Extensive use in state, metrics, handlers
  - Test files with broad `#![allow(clippy::all)]` suppressions

### ‚ö†Ô∏è Architectural Debt in Facades
- Facade integration tests heavily marked with TODOs
- Indicates incomplete facade implementation
- 28+ TODO markers in facade tests alone

### ‚ö†Ô∏è Broad Crate-Level Suppressions
- **40 crate-level** `#![allow(...)]` attributes
- Test files with `#![allow(clippy::all)]` bypass all clippy warnings
- Examples:
  - `crates/riptide-extraction/tests/wasm_binding_tdd_tests.rs`
  - `crates/riptide-cli/tests/*.rs` (9 test files)

## Recommendations

1. **Dead Code Cleanup Priority**
   - Remove genuinely unused code rather than suppressing warnings
   - For public API: Document why items are intentionally unused
   - Consider feature-gating experimental/planned features

2. **TODO Consolidation**
   - Convert facade TODOs into tracked issues
   - Prioritize P1/P2 TODOs in production code
   - Archive completed test TODOs

3. **Suppression Audit**
   - Replace broad `#![allow(clippy::all)]` with specific suppressions
   - Review each `#[allow(dead_code)]` for necessity
   - Document legitimate suppressions with comments

4. **Test Code Quality**
   - Re-enable clippy for test code
   - Clean up commented-out test code (117 instances)
   - Implement or remove stubbed test implementations

## Files Generated
- `.todos.txt` - All TODO/FIXME/XXX instances
- `.commented_code.txt` - Commented code patterns
- `.crate_attrs.txt` - Crate-level attributes
- `.local_allows.txt` - Local allow suppressions
- `.udeps.txt` - Unused dependency report (pending)

**Next Steps**: Run cargo-udeps for dependency analysis (Step 2 completion)
