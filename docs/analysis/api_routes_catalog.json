{
  "metadata": {
    "generated_at": "2025-11-03T08:30:00Z",
    "codebase": "RipTide EventMesh API",
    "version": "1.1.0",
    "base_url": "http://0.0.0.0:8080",
    "total_routes": 120,
    "total_websocket_endpoints": 1,
    "total_streaming_endpoints": 5
  },
  "servers": [
    {
      "name": "riptide-api",
      "bind_address": "0.0.0.0:8080",
      "description": "Main API server for web crawling, extraction, and processing",
      "entry_point": "/workspaces/eventmesh/crates/riptide-api/src/main.rs"
    },
    {
      "name": "riptide-streaming",
      "bind_address": "configurable",
      "description": "Streaming API server for NDJSON streaming responses",
      "entry_point": "/workspaces/eventmesh/crates/riptide-streaming/src/server.rs"
    },
    {
      "name": "riptide-headless",
      "bind_address": "0.0.0.0:9123",
      "description": "Headless browser rendering service",
      "entry_point": "/workspaces/eventmesh/crates/riptide-headless/src/main.rs"
    },
    {
      "name": "riptide-performance",
      "bind_address": "configurable",
      "description": "Memory profiling and performance monitoring HTTP endpoints",
      "entry_point": "/workspaces/eventmesh/crates/riptide-performance/src/monitoring/http_endpoints.rs"
    }
  ],
  "middleware": {
    "global": [
      "TraceLayer - Request tracing and logging",
      "CompressionLayer - Response compression",
      "TimeoutLayer - Request timeout handling",
      "CorsLayer - CORS support",
      "PayloadLimitLayer - Request size limiting"
    ],
    "conditional": [
      "auth_middleware - API key authentication",
      "rate_limit_middleware - Rate limiting per client",
      "request_validation_middleware - Input validation",
      "SessionLayer - Session management for stateful routes"
    ]
  },
  "api_routes": {
    "health_monitoring": [
      {
        "path": "/healthz",
        "method": "GET",
        "handler": "handlers::health",
        "description": "Basic health check endpoint",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthResponse",
        "streaming": false
      },
      {
        "path": "/api/health/detailed",
        "method": "GET",
        "handler": "handlers::health_detailed",
        "description": "Detailed health check with component status",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "DetailedHealthResponse",
        "streaming": false
      },
      {
        "path": "/health/:component",
        "method": "GET",
        "handler": "handlers::health::component_health_check",
        "description": "Component-specific health check",
        "authentication": false,
        "rate_limited": false,
        "request_type": "Path parameter: component",
        "response_type": "ComponentHealthResponse",
        "streaming": false
      },
      {
        "path": "/health/metrics",
        "method": "GET",
        "handler": "handlers::health::health_metrics_check",
        "description": "Health metrics aggregation",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthMetricsResponse",
        "streaming": false
      }
    ],
    "metrics": [
      {
        "path": "/metrics",
        "method": "GET",
        "handler": "handlers::metrics",
        "description": "Prometheus metrics endpoint",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "text/plain (Prometheus format)",
        "streaming": false
      },
      {
        "path": "/api/v1/metrics",
        "method": "GET",
        "handler": "handlers::metrics",
        "description": "Prometheus metrics endpoint (v1 alias)",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "text/plain (Prometheus format)",
        "streaming": false
      }
    ],
    "crawling": [
      {
        "path": "/crawl",
        "method": "POST",
        "handler": "handlers::crawl",
        "description": "Crawl one or more URLs with extraction",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CrawlBody",
        "response_type": "CrawlResponse",
        "streaming": false,
        "request_fields": {
          "urls": "Vec<String>",
          "options": "CrawlOptions (optional)"
        }
      },
      {
        "path": "/api/v1/crawl",
        "method": "POST",
        "handler": "handlers::crawl",
        "description": "Crawl endpoint (v1 alias)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CrawlBody",
        "response_type": "CrawlResponse",
        "streaming": false
      },
      {
        "path": "/crawl/stream",
        "method": "POST",
        "handler": "handlers::crawl_stream",
        "description": "Streaming crawl with NDJSON responses",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CrawlBody",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      },
      {
        "path": "/api/v1/crawl/stream",
        "method": "POST",
        "handler": "handlers::crawl_stream",
        "description": "Streaming crawl (v1 alias)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CrawlBody",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      }
    ],
    "extraction": [
      {
        "path": "/api/v1/extract",
        "method": "POST",
        "handler": "handlers::extract",
        "description": "Extract content from URL (NEW v1.1)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ExtractRequest",
        "response_type": "ExtractionResult",
        "streaming": false
      },
      {
        "path": "/extract",
        "method": "POST",
        "handler": "handlers::extract",
        "description": "Extract content (backward compatibility)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ExtractRequest",
        "response_type": "ExtractionResult",
        "streaming": false
      }
    ],
    "search": [
      {
        "path": "/api/v1/search",
        "method": "GET",
        "handler": "handlers::search",
        "description": "Search with query parameters (NEW v1.1)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Query parameters",
        "response_type": "SearchResponse",
        "streaming": false
      },
      {
        "path": "/search",
        "method": "GET",
        "handler": "handlers::search",
        "description": "Search endpoint (backward compatibility)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Query parameters",
        "response_type": "SearchResponse",
        "streaming": false
      },
      {
        "path": "/deepsearch",
        "method": "POST",
        "handler": "handlers::deepsearch",
        "description": "Deep search with crawling",
        "authentication": true,
        "rate_limited": true,
        "request_type": "DeepSearchRequest",
        "response_type": "DeepSearchResponse",
        "streaming": false
      },
      {
        "path": "/deepsearch/stream",
        "method": "POST",
        "handler": "handlers::deepsearch_stream",
        "description": "Streaming deep search with NDJSON",
        "authentication": true,
        "rate_limited": true,
        "request_type": "DeepSearchRequest",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      },
      {
        "path": "/api/v1/deepsearch/stream",
        "method": "POST",
        "handler": "handlers::deepsearch_stream",
        "description": "Streaming deep search (v1 alias)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "DeepSearchRequest",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      }
    ],
    "pdf_processing": [
      {
        "path": "/pdf/process",
        "method": "POST",
        "handler": "pdf::process_pdf",
        "description": "Process PDF file",
        "authentication": true,
        "rate_limited": true,
        "request_type": "multipart/form-data or JSON",
        "response_type": "PDFProcessingResult",
        "streaming": false
      },
      {
        "path": "/pdf/upload",
        "method": "POST",
        "handler": "pdf::upload_pdf",
        "description": "Upload PDF for processing",
        "authentication": true,
        "rate_limited": true,
        "request_type": "multipart/form-data",
        "response_type": "UploadResponse",
        "streaming": false
      },
      {
        "path": "/pdf/process-stream",
        "method": "POST",
        "handler": "pdf::process_pdf_stream",
        "description": "Process PDF with streaming progress updates",
        "authentication": true,
        "rate_limited": true,
        "request_type": "multipart/form-data",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      },
      {
        "path": "/pdf/healthz",
        "method": "GET",
        "handler": "pdf_health_check",
        "description": "PDF processing health check",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthResponse",
        "streaming": false
      }
    ],
    "stealth": [
      {
        "path": "/stealth/configure",
        "method": "POST",
        "handler": "stealth::configure_stealth",
        "description": "Configure stealth settings for crawling",
        "authentication": true,
        "rate_limited": true,
        "request_type": "StealthConfig",
        "response_type": "ConfigurationResponse",
        "streaming": false
      },
      {
        "path": "/stealth/test",
        "method": "POST",
        "handler": "stealth::test_stealth",
        "description": "Test stealth capabilities",
        "authentication": true,
        "rate_limited": true,
        "request_type": "StealthTestRequest",
        "response_type": "StealthTestResult",
        "streaming": false
      },
      {
        "path": "/stealth/capabilities",
        "method": "GET",
        "handler": "stealth::get_stealth_capabilities",
        "description": "Get available stealth capabilities",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "StealthCapabilities",
        "streaming": false
      },
      {
        "path": "/stealth/healthz",
        "method": "GET",
        "handler": "stealth_health_check",
        "description": "Stealth system health check",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthResponse",
        "streaming": false
      }
    ],
    "table_extraction": [
      {
        "path": "/api/v1/tables/extract",
        "method": "POST",
        "handler": "tables::extract_tables",
        "description": "Extract tables from HTML/PDF",
        "authentication": true,
        "rate_limited": true,
        "request_type": "TableExtractionRequest",
        "response_type": "TableExtractionResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/tables/:id/export",
        "method": "GET",
        "handler": "tables::export_table",
        "description": "Export extracted table in various formats",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: id, Query: format",
        "response_type": "TableExport (CSV, JSON, Excel)",
        "streaming": false
      }
    ],
    "llm_providers": [
      {
        "path": "/api/v1/llm/providers",
        "method": "GET",
        "handler": "llm::list_providers",
        "description": "List available LLM providers",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ProvidersListResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/llm/providers/current",
        "method": "GET",
        "handler": "llm::get_current_provider_info",
        "description": "Get current LLM provider information",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "CurrentProviderResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/llm/providers/switch",
        "method": "POST",
        "handler": "llm::switch_provider",
        "description": "Switch to different LLM provider",
        "authentication": true,
        "rate_limited": true,
        "request_type": "SwitchProviderRequest",
        "response_type": "SwitchResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/llm/config",
        "method": "GET",
        "handler": "llm::get_config",
        "description": "Get LLM configuration",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "LLMConfig",
        "streaming": false
      },
      {
        "path": "/api/v1/llm/config",
        "method": "POST",
        "handler": "llm::update_config",
        "description": "Update LLM configuration",
        "authentication": true,
        "rate_limited": true,
        "request_type": "LLMConfigUpdate",
        "response_type": "ConfigUpdateResponse",
        "streaming": false
      }
    ],
    "content_chunking": [
      {
        "path": "/api/v1/content/chunk",
        "method": "POST",
        "handler": "chunking::chunk_content",
        "description": "Chunk content for processing",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ChunkingRequest",
        "response_type": "ChunkingResponse",
        "streaming": false
      }
    ],
    "engine_selection": [
      {
        "path": "/engine/analyze",
        "method": "POST",
        "handler": "engine_selection::analyze_engine",
        "description": "Analyze and recommend extraction engine (Phase 10)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "EngineAnalysisRequest",
        "response_type": "EngineAnalysisResponse",
        "streaming": false
      },
      {
        "path": "/engine/decide",
        "method": "POST",
        "handler": "engine_selection::decide_engine",
        "description": "Decide optimal engine for URL",
        "authentication": true,
        "rate_limited": true,
        "request_type": "EngineDecisionRequest",
        "response_type": "EngineDecision",
        "streaming": false
      },
      {
        "path": "/engine/stats",
        "method": "GET",
        "handler": "engine_selection::get_engine_stats",
        "description": "Get engine selection statistics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "EngineStats",
        "streaming": false
      },
      {
        "path": "/engine/probe-first",
        "method": "PUT",
        "handler": "engine_selection::toggle_probe_first",
        "description": "Toggle probe-first strategy",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ProbeFirstToggle",
        "response_type": "ToggleResponse",
        "streaming": false
      }
    ],
    "domain_profiles": [
      {
        "path": "/api/v1/profiles",
        "method": "POST",
        "handler": "profiles::create_profile",
        "description": "Create domain warm-start profile (Phase 10.4)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CreateProfileRequest",
        "response_type": "ProfileResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/profiles",
        "method": "GET",
        "handler": "profiles::list_profiles",
        "description": "List all domain profiles",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ProfilesListResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/profiles/:domain",
        "method": "GET",
        "handler": "profiles::get_profile",
        "description": "Get specific domain profile",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: domain",
        "response_type": "ProfileResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/profiles/:domain",
        "method": "PUT",
        "handler": "profiles::update_profile",
        "description": "Update domain profile",
        "authentication": true,
        "rate_limited": true,
        "request_type": "UpdateProfileRequest",
        "response_type": "ProfileResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/profiles/:domain",
        "method": "DELETE",
        "handler": "profiles::delete_profile",
        "description": "Delete domain profile",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: domain",
        "response_type": "DeleteResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/profiles/:domain/stats",
        "method": "GET",
        "handler": "profiles::get_profile_stats",
        "description": "Get profile usage statistics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: domain",
        "response_type": "ProfileStatsResponse",
        "streaming": false
      }
    ],
    "strategies": [
      {
        "path": "/strategies/crawl",
        "method": "POST",
        "handler": "strategies::strategies_crawl",
        "description": "Advanced extraction with strategy selection",
        "authentication": true,
        "rate_limited": true,
        "request_type": "StrategiesCrawlRequest",
        "response_type": "StrategiesCrawlResponse",
        "streaming": false
      },
      {
        "path": "/strategies/info",
        "method": "GET",
        "handler": "strategies::get_strategies_info",
        "description": "Get available extraction strategies",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "StrategiesInfo",
        "streaming": false
      }
    ],
    "spider": [
      {
        "path": "/spider/crawl",
        "method": "POST",
        "handler": "spider::spider_crawl",
        "description": "Deep crawling with spider",
        "authentication": true,
        "rate_limited": true,
        "request_type": "SpiderCrawlRequest",
        "response_type": "SpiderCrawlResponse",
        "streaming": false
      },
      {
        "path": "/spider/status",
        "method": "POST",
        "handler": "spider::spider_status",
        "description": "Get spider crawl status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "SpiderStatusRequest",
        "response_type": "SpiderStatusResponse",
        "streaming": false
      },
      {
        "path": "/spider/control",
        "method": "POST",
        "handler": "spider::spider_control",
        "description": "Control spider crawl (pause/resume/stop)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "SpiderControlRequest",
        "response_type": "SpiderControlResponse",
        "streaming": false
      }
    ],
    "sessions": [
      {
        "path": "/sessions",
        "method": "POST",
        "handler": "sessions::create_session",
        "description": "Create new session",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CreateSessionRequest",
        "response_type": "SessionResponse",
        "streaming": false
      },
      {
        "path": "/sessions",
        "method": "GET",
        "handler": "sessions::list_sessions",
        "description": "List all sessions",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "SessionsListResponse",
        "streaming": false
      },
      {
        "path": "/sessions/stats",
        "method": "GET",
        "handler": "sessions::get_session_stats",
        "description": "Get session statistics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "SessionStatsResponse",
        "streaming": false
      },
      {
        "path": "/sessions/cleanup",
        "method": "POST",
        "handler": "sessions::cleanup_expired_sessions",
        "description": "Clean up expired sessions",
        "authentication": true,
        "rate_limited": true,
        "request_type": "None",
        "response_type": "CleanupResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id",
        "method": "GET",
        "handler": "sessions::get_session_info",
        "description": "Get session information",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: session_id",
        "response_type": "SessionInfo",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id",
        "method": "DELETE",
        "handler": "sessions::delete_session",
        "description": "Delete session",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: session_id",
        "response_type": "DeleteResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/extend",
        "method": "POST",
        "handler": "sessions::extend_session",
        "description": "Extend session TTL",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ExtendSessionRequest",
        "response_type": "SessionResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/cookies",
        "method": "POST",
        "handler": "sessions::set_cookie",
        "description": "Set cookie in session",
        "authentication": true,
        "rate_limited": true,
        "request_type": "SetCookieRequest",
        "response_type": "CookieResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/cookies",
        "method": "DELETE",
        "handler": "sessions::clear_cookies",
        "description": "Clear all cookies",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: session_id",
        "response_type": "DeleteResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/cookies/:domain",
        "method": "GET",
        "handler": "sessions::get_cookies_for_domain",
        "description": "Get cookies for domain",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameters: session_id, domain",
        "response_type": "CookiesResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/cookies/:domain/:name",
        "method": "GET",
        "handler": "sessions::get_cookie",
        "description": "Get specific cookie",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameters: session_id, domain, name",
        "response_type": "CookieResponse",
        "streaming": false
      },
      {
        "path": "/sessions/:session_id/cookies/:domain/:name",
        "method": "DELETE",
        "handler": "sessions::delete_cookie",
        "description": "Delete specific cookie",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameters: session_id, domain, name",
        "response_type": "DeleteResponse",
        "streaming": false
      }
    ],
    "workers": [
      {
        "path": "/workers/jobs",
        "method": "POST",
        "handler": "workers::submit_job",
        "description": "Submit background job",
        "authentication": true,
        "rate_limited": true,
        "request_type": "JobSubmitRequest",
        "response_type": "JobSubmitResponse",
        "streaming": false
      },
      {
        "path": "/workers/jobs",
        "method": "GET",
        "handler": "workers::list_jobs",
        "description": "List all jobs",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Query parameters for filtering",
        "response_type": "JobsListResponse",
        "streaming": false
      },
      {
        "path": "/workers/jobs/:job_id",
        "method": "GET",
        "handler": "workers::get_job_status",
        "description": "Get job status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: job_id",
        "response_type": "JobStatusResponse",
        "streaming": false
      },
      {
        "path": "/workers/jobs/:job_id/result",
        "method": "GET",
        "handler": "workers::get_job_result",
        "description": "Get job result",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: job_id",
        "response_type": "JobResultResponse",
        "streaming": false
      },
      {
        "path": "/workers/stats/queue",
        "method": "GET",
        "handler": "workers::get_queue_stats",
        "description": "Get queue statistics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "QueueStatsResponse",
        "streaming": false
      },
      {
        "path": "/workers/stats/workers",
        "method": "GET",
        "handler": "workers::get_worker_stats",
        "description": "Get worker statistics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "WorkerStatsResponse",
        "streaming": false
      },
      {
        "path": "/workers/metrics",
        "method": "GET",
        "handler": "workers::get_worker_metrics",
        "description": "Get worker metrics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "WorkerMetricsResponse",
        "streaming": false
      },
      {
        "path": "/workers/schedule",
        "method": "POST",
        "handler": "workers::create_scheduled_job",
        "description": "Create scheduled job",
        "authentication": true,
        "rate_limited": true,
        "request_type": "ScheduledJobRequest",
        "response_type": "ScheduledJobResponse",
        "streaming": false
      },
      {
        "path": "/workers/schedule",
        "method": "GET",
        "handler": "workers::list_scheduled_jobs",
        "description": "List scheduled jobs",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ScheduledJobsListResponse",
        "streaming": false
      },
      {
        "path": "/workers/schedule/:job_id",
        "method": "DELETE",
        "handler": "workers::delete_scheduled_job",
        "description": "Delete scheduled job",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: job_id",
        "response_type": "DeleteResponse",
        "streaming": false
      }
    ],
    "browser_management": [
      {
        "path": "/api/v1/browser/session",
        "method": "POST",
        "handler": "browser::create_browser_session",
        "description": "Create browser session",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CreateBrowserSessionRequest",
        "response_type": "BrowserSessionResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/browser/action",
        "method": "POST",
        "handler": "browser::execute_browser_action",
        "description": "Execute browser action",
        "authentication": true,
        "rate_limited": true,
        "request_type": "BrowserActionRequest",
        "response_type": "BrowserActionResponse",
        "streaming": false
      },
      {
        "path": "/api/v1/browser/pool/status",
        "method": "GET",
        "handler": "browser::get_browser_pool_status",
        "description": "Get browser pool status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "BrowserPoolStatus",
        "streaming": false
      },
      {
        "path": "/api/v1/browser/session/:id",
        "method": "DELETE",
        "handler": "browser::close_browser_session",
        "description": "Close browser session",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: id",
        "response_type": "DeleteResponse",
        "streaming": false
      }
    ],
    "resources": [
      {
        "path": "/resources/status",
        "method": "GET",
        "handler": "resources::get_resource_status",
        "description": "Get overall resource status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ResourceStatusResponse",
        "streaming": false
      },
      {
        "path": "/resources/browser-pool",
        "method": "GET",
        "handler": "resources::get_browser_pool_status",
        "description": "Get browser pool resource status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "BrowserPoolResourceStatus",
        "streaming": false
      },
      {
        "path": "/resources/rate-limiter",
        "method": "GET",
        "handler": "resources::get_rate_limiter_status",
        "description": "Get rate limiter status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "RateLimiterStatus",
        "streaming": false
      },
      {
        "path": "/resources/memory",
        "method": "GET",
        "handler": "resources::get_memory_status",
        "description": "Get memory usage status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemoryStatus",
        "streaming": false
      },
      {
        "path": "/resources/performance",
        "method": "GET",
        "handler": "resources::get_performance_status",
        "description": "Get performance metrics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "PerformanceStatus",
        "streaming": false
      },
      {
        "path": "/resources/pdf/semaphore",
        "method": "GET",
        "handler": "resources::get_pdf_semaphore_status",
        "description": "Get PDF processing semaphore status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "SemaphoreStatus",
        "streaming": false
      }
    ],
    "memory_profiling": [
      {
        "path": "/api/v1/memory/profile",
        "method": "GET",
        "handler": "memory::memory_profile_handler",
        "description": "Get memory profiling data (production observability)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemoryProfile",
        "streaming": false
      },
      {
        "path": "/api/v1/memory/leaks",
        "method": "GET",
        "handler": "resources::get_memory_leaks",
        "description": "Get memory leak detection report",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemoryLeakReport",
        "streaming": false
      }
    ],
    "fetch_metrics": [
      {
        "path": "/fetch/metrics",
        "method": "GET",
        "handler": "fetch::get_fetch_metrics",
        "description": "Get fetch engine metrics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "FetchMetricsResponse",
        "streaming": false
      }
    ],
    "monitoring": [
      {
        "path": "/monitoring/health-score",
        "method": "GET",
        "handler": "monitoring::get_health_score",
        "description": "Get overall health score",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthScoreResponse",
        "streaming": false
      },
      {
        "path": "/monitoring/performance-report",
        "method": "GET",
        "handler": "monitoring::get_performance_report",
        "description": "Get performance report",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "PerformanceReportResponse",
        "streaming": false
      },
      {
        "path": "/monitoring/metrics/current",
        "method": "GET",
        "handler": "monitoring::get_current_metrics",
        "description": "Get current monitoring metrics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "CurrentMetricsResponse",
        "streaming": false
      },
      {
        "path": "/monitoring/alerts/rules",
        "method": "GET",
        "handler": "monitoring::get_alert_rules",
        "description": "Get alert rules configuration",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "AlertRulesResponse",
        "streaming": false
      },
      {
        "path": "/monitoring/alerts/active",
        "method": "GET",
        "handler": "monitoring::get_active_alerts",
        "description": "Get active alerts",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ActiveAlertsResponse",
        "streaming": false
      },
      {
        "path": "/monitoring/profiling/memory",
        "method": "GET",
        "handler": "monitoring::get_memory_metrics",
        "description": "Get memory profiling metrics (deprecated)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemoryMetricsResponse",
        "streaming": false,
        "deprecated": true
      },
      {
        "path": "/monitoring/profiling/leaks",
        "method": "GET",
        "handler": "monitoring::get_leak_analysis",
        "description": "Get leak analysis (deprecated)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "LeakAnalysisResponse",
        "streaming": false,
        "deprecated": true
      },
      {
        "path": "/monitoring/profiling/allocations",
        "method": "GET",
        "handler": "monitoring::get_allocation_metrics",
        "description": "Get allocation metrics (deprecated)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "AllocationMetricsResponse",
        "streaming": false,
        "deprecated": true
      },
      {
        "path": "/monitoring/wasm-instances",
        "method": "GET",
        "handler": "monitoring::get_wasm_health",
        "description": "Get WASM instance health status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "WasmHealthResponse",
        "streaming": false
      },
      {
        "path": "/api/resources/status",
        "method": "GET",
        "handler": "monitoring::get_resource_status",
        "description": "Get resource management status",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "ResourceStatusResponse",
        "streaming": false
      }
    ],
    "pipeline_phases": [
      {
        "path": "/pipeline/phases",
        "method": "GET",
        "handler": "handlers::get_pipeline_phases",
        "description": "Get enhanced pipeline phase visualization",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "PipelinePhasesResponse",
        "streaming": false
      }
    ],
    "profiling": [
      {
        "path": "/api/profiling/memory",
        "method": "GET",
        "handler": "profiling::get_memory_profile",
        "description": "Get memory profiling data (riptide-performance integration)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemoryProfileResponse",
        "streaming": false
      },
      {
        "path": "/api/profiling/cpu",
        "method": "GET",
        "handler": "profiling::get_cpu_profile",
        "description": "Get CPU profiling data",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "CpuProfileResponse",
        "streaming": false
      },
      {
        "path": "/api/profiling/bottlenecks",
        "method": "GET",
        "handler": "profiling::get_bottleneck_analysis",
        "description": "Get bottleneck analysis",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "BottleneckAnalysisResponse",
        "streaming": false
      },
      {
        "path": "/api/profiling/allocations",
        "method": "GET",
        "handler": "profiling::get_allocation_metrics",
        "description": "Get allocation metrics",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "AllocationMetricsResponse",
        "streaming": false
      },
      {
        "path": "/api/profiling/leak-detection",
        "method": "POST",
        "handler": "profiling::trigger_leak_detection",
        "description": "Trigger leak detection analysis",
        "authentication": true,
        "rate_limited": true,
        "request_type": "LeakDetectionRequest",
        "response_type": "LeakDetectionResponse",
        "streaming": false
      },
      {
        "path": "/api/profiling/snapshot",
        "method": "POST",
        "handler": "profiling::trigger_heap_snapshot",
        "description": "Trigger heap snapshot capture",
        "authentication": true,
        "rate_limited": true,
        "request_type": "SnapshotRequest",
        "response_type": "SnapshotResponse",
        "streaming": false
      }
    ],
    "telemetry": [
      {
        "path": "/api/telemetry/status",
        "method": "GET",
        "handler": "telemetry::get_telemetry_status",
        "description": "Get telemetry system status (TELEM-005)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "TelemetryStatusResponse",
        "streaming": false
      },
      {
        "path": "/api/telemetry/traces",
        "method": "GET",
        "handler": "telemetry::list_traces",
        "description": "List distributed traces",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Query parameters for filtering",
        "response_type": "TracesListResponse",
        "streaming": false
      },
      {
        "path": "/api/telemetry/traces/:trace_id",
        "method": "GET",
        "handler": "telemetry::get_trace_tree",
        "description": "Get trace tree visualization",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: trace_id",
        "response_type": "TraceTreeResponse",
        "streaming": false
      }
    ],
    "admin": [
      {
        "path": "/admin/tenants",
        "method": "POST",
        "handler": "admin::create_tenant",
        "description": "Create new tenant (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CreateTenantRequest",
        "response_type": "TenantResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants",
        "method": "GET",
        "handler": "admin::list_tenants",
        "description": "List all tenants (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "TenantsListResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants/:id",
        "method": "GET",
        "handler": "admin::get_tenant",
        "description": "Get tenant details (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: id",
        "response_type": "TenantResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants/:id",
        "method": "PUT",
        "handler": "admin::update_tenant",
        "description": "Update tenant (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "UpdateTenantRequest",
        "response_type": "TenantResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants/:id",
        "method": "DELETE",
        "handler": "admin::delete_tenant",
        "description": "Delete tenant (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: id",
        "response_type": "DeleteResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants/:id/usage",
        "method": "GET",
        "handler": "admin::get_tenant_usage",
        "description": "Get tenant usage statistics (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: id",
        "response_type": "TenantUsageResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/tenants/:id/billing",
        "method": "GET",
        "handler": "admin::get_tenant_billing",
        "description": "Get tenant billing information (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "Path parameter: id",
        "response_type": "TenantBillingResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/cache/warm",
        "method": "POST",
        "handler": "admin::warm_cache",
        "description": "Warm cache (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "WarmCacheRequest",
        "response_type": "CacheResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/cache/invalidate",
        "method": "POST",
        "handler": "admin::invalidate_cache",
        "description": "Invalidate cache (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "InvalidateCacheRequest",
        "response_type": "CacheResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/cache/stats",
        "method": "GET",
        "handler": "admin::get_cache_stats",
        "description": "Get cache statistics (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "CacheStatsResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/state/reload",
        "method": "POST",
        "handler": "admin::reload_state",
        "description": "Reload application state (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "None",
        "response_type": "StateResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/state/checkpoint",
        "method": "POST",
        "handler": "admin::create_checkpoint",
        "description": "Create state checkpoint (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "CheckpointRequest",
        "response_type": "CheckpointResponse",
        "streaming": false,
        "feature_flag": "persistence"
      },
      {
        "path": "/admin/state/restore/:id",
        "method": "POST",
        "handler": "admin::restore_checkpoint",
        "description": "Restore from checkpoint (feature-gated: persistence)",
        "authentication": true,
        "rate_limited": true,
        "request_type": "Path parameter: id",
        "response_type": "StateResponse",
        "streaming": false,
        "feature_flag": "persistence"
      }
    ]
  },
  "streaming_api_routes": {
    "riptide_streaming_server": [
      {
        "path": "/crawl/stream",
        "method": "POST",
        "handler": "handle_crawl_stream",
        "description": "Streaming crawl with NDJSON (separate streaming server)",
        "authentication": false,
        "rate_limited": false,
        "request_type": "CrawlStreamRequest",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      },
      {
        "path": "/deepsearch/stream",
        "method": "POST",
        "handler": "handle_deepsearch_stream",
        "description": "Streaming deep search (separate streaming server)",
        "authentication": false,
        "rate_limited": false,
        "request_type": "DeepSearchRequest",
        "response_type": "application/x-ndjson",
        "streaming": true,
        "streaming_type": "NDJSON"
      },
      {
        "path": "/healthz",
        "method": "GET",
        "handler": "health_check",
        "description": "Streaming server health check",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthResponse",
        "streaming": false
      }
    ]
  },
  "headless_api_routes": {
    "riptide_headless_server": [
      {
        "path": "/healthz",
        "method": "GET",
        "handler": "health_check",
        "description": "Headless browser health check",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "text/plain",
        "streaming": false
      },
      {
        "path": "/render",
        "method": "POST",
        "handler": "cdp::render",
        "description": "Render page with headless browser",
        "authentication": false,
        "rate_limited": false,
        "request_type": "RenderRequest",
        "response_type": "RenderResponse",
        "streaming": false
      }
    ]
  },
  "performance_monitoring_routes": {
    "memory_metrics_router": [
      {
        "path": "/metrics/memory/snapshot",
        "method": "GET",
        "handler": "get_snapshot",
        "description": "Get current memory snapshot",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "MemorySnapshot",
        "streaming": false
      },
      {
        "path": "/metrics/memory/leaks",
        "method": "GET",
        "handler": "get_leaks",
        "description": "Get memory leak analysis",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "LeakAnalysisResponse",
        "streaming": false
      },
      {
        "path": "/metrics/memory/allocations",
        "method": "GET",
        "handler": "get_allocations",
        "description": "Get top allocators and statistics",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "AllocationStatsResponse",
        "streaming": false
      },
      {
        "path": "/metrics/memory/trend",
        "method": "GET",
        "handler": "get_trend",
        "description": "Get memory usage trend over time",
        "authentication": false,
        "rate_limited": false,
        "request_type": "Query: duration, interval",
        "response_type": "MemoryTrendResponse",
        "streaming": false
      },
      {
        "path": "/metrics/memory/health",
        "method": "GET",
        "handler": "health_check",
        "description": "Memory health check with thresholds",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "HealthCheckResponse",
        "streaming": false
      },
      {
        "path": "/metrics/memory/gc",
        "method": "POST",
        "handler": "force_gc",
        "description": "Force garbage collection/cleanup",
        "authentication": false,
        "rate_limited": false,
        "request_type": "None",
        "response_type": "GcResponse",
        "streaming": false
      }
    ]
  },
  "websocket_endpoints": [
    {
      "path": "/ws/crawl (WebSocket upgrade)",
      "protocol": "WebSocket",
      "handler": "crawl_websocket -> handle_websocket",
      "description": "Bidirectional real-time WebSocket streaming for crawl operations",
      "authentication": false,
      "message_types": {
        "client_to_server": [
          "crawl - Submit crawl request",
          "ping - Ping request",
          "status - Connection status request"
        ],
        "server_to_client": [
          "welcome - Initial welcome message",
          "metadata - Crawl metadata",
          "result - Individual crawl result",
          "summary - Final summary",
          "pong - Pong response",
          "status - Status response",
          "error - Error message"
        ]
      },
      "features": [
        "Bidirectional communication",
        "Ping/pong keepalive (30-second interval)",
        "Backpressure handling",
        "Connection health monitoring",
        "Progress tracking",
        "Real-time result streaming"
      ],
      "request_format": {
        "request_type": "string",
        "data": "JSON value"
      },
      "response_format": {
        "message_type": "string",
        "data": "JSON value",
        "timestamp": "RFC3339 timestamp"
      }
    }
  ],
  "rpc_endpoints": [],
  "grpc_endpoints": [],
  "notes": [
    "Total of 120+ HTTP routes across main API server",
    "WebSocket support for real-time bidirectional communication",
    "Separate streaming server for NDJSON responses",
    "Separate headless browser service for rendering",
    "Performance monitoring endpoints for memory profiling",
    "Feature-gated admin endpoints require 'persistence' feature flag",
    "Most routes require authentication via API key",
    "Rate limiting applied to mutation operations",
    "Comprehensive middleware stack including CORS, compression, timeout, and tracing",
    "Session management with cookie support",
    "Background job processing with worker queue",
    "Advanced features: LLM provider management, engine selection, domain profiles",
    "Telemetry and distributed tracing support (OpenTelemetry)",
    "Memory profiling with jemalloc integration"
  ]
}
