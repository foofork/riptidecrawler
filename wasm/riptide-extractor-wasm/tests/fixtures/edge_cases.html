<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Edge Case Test: Mixed Languages 测试 テスト परीक्षण</title>
    <meta property="og:locale" content="zh_CN">
    <meta http-equiv="Content-Language" content="zh-CN, en, ja">

    <!-- Malformed meta tags -->
    <meta name="author" content='Broken "Quote's Test'>
    <meta property="article:published_time" content="not-a-date">
    <meta name="description" content="">

    <!-- Multiple conflicting language indicators -->
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="ja_JP">

    <!-- Nested JSON-LD with errors -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Test with special chars: <>&\"'",
        "articleSection": ["", "Technology", null, "Science", "Technology"],
        "keywords": ["test", "", "   ", "valid-keyword"],
        "inLanguage": ["en", "zh", "ja"],
        "author": {
            "@type": "Person",
            "name": null
        }
    }
    </script>

    <!-- Invalid JSON-LD -->
    <script type="application/ld+json">
    { invalid json here }
    </script>
</head>
<body>
    <!-- Empty and malformed links -->
    <a href="">Empty href</a>
    <a href="#">Hash only</a>
    <a href="javascript:void(0)">JavaScript link</a>
    <a href="mailto:test@example.com">Email link</a>
    <a href="tel:+1234567890">Phone link</a>
    <a href="   ">Whitespace href</a>
    <a>No href attribute</a>
    <a href="//example.com/protocol-relative">Protocol relative</a>
    <a href="http://example.com/normal" rel="nofollow ugc sponsored" hreflang="en-US">All rel attributes</a>

    <!-- Deeply nested content -->
    <div><div><div><div><div><div><div><div><div><div>
        <p>Deeply nested paragraph with <a href="/deep-link">link</a></p>
    </div></div></div></div></div></div></div></div></div></div>

    <!-- Special characters in content -->
    <article>
        <h1>Title with emojis 🚀 and symbols ™️ ® © ¥ €</h1>
        <p>Content with HTML entities: &lt;script&gt;alert('xss')&lt;/script&gt;</p>
        <p>Unicode: 你好世界 • مرحبا بالعالم • Здравствуй мир • 🌍🌎🌏</p>

        <!-- RTL content -->
        <p dir="rtl">هذا نص باللغة العربية من اليمين إلى اليسار</p>

        <!-- Mixed direction text -->
        <p>English text עברית Arabic نص עברית mixed</p>
    </article>

    <!-- Malformed images -->
    <img src="">
    <img src="   ">
    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==">
    <img srcset="small.jpg 100w, medium.jpg 200w, , large.jpg 400w">
    <img src="image.jpg" srcset="">

    <!-- Complex srcset -->
    <picture>
        <source srcset="image-480w.jpg 480w,
                        image-800w.jpg 800w,
                        image-1200w.jpg 1200w"
                sizes="(max-width: 600px) 480px,
                       (max-width: 900px) 800px,
                       1200px">
        <source>
        <img src="fallback.jpg" alt="">
    </picture>

    <!-- Very long content -->
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <!-- Repeat 1000 times --> </p>

    <!-- Broken HTML structure -->
    <div>
        <p>Unclosed paragraph
        <span>Unclosed span
        </div>
    <p>Another paragraph</div>

    <!-- Scripts and styles that should be ignored -->
    <script>
        var data = "This should not be extracted as content";
        document.write("<a href='/dynamic'>Dynamic link</a>");
    </script>

    <style>
        .hidden { display: none; }
        /* CSS content should not be extracted */
        a::after { content: "Should not extract"; }
    </style>

    <!-- Hidden content -->
    <div style="display: none;">
        <a href="/hidden-link">Hidden link</a>
        <p>Hidden content</p>
    </div>

    <div hidden>
        <a href="/hidden-attribute">Hidden by attribute</a>
    </div>

    <!-- Area maps -->
    <map name="workmap">
        <area shape="rect" coords="34,44,270,350" alt="Computer" href="/computer">
        <area shape="rect" coords="290,172,333,250" alt="Phone" href="/phone">
        <area shape="circle" coords="337,300,44" alt="Cup" href="/coffee">
    </map>

    <!-- SVG with links -->
    <svg width="100" height="100">
        <a href="/svg-link">
            <circle cx="50" cy="50" r="40"/>
        </a>
    </svg>

    <!-- Extreme nesting for performance test -->
    <div id="nesting-bomb">
        <!-- Generate 100 levels of nesting -->
    </div>

    <!-- Binary content references -->
    <img src="image.jpg\x00attack">
    <a href="link\x00attack">Null byte attack</a>

    <!-- Different favicon formats -->
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon.ico">
</body>
</html>